package main

class FPSManager {
  private var frames = List[Long]()
  private var avgFps = 30L;

  def getFps: Int = {
    frames match {
      case x :: list => {
        (avgFps * 0.9) + (x * 0.1)
      }
      case List() => 0
      case _      => 0
    }
  }

  def tick(duration: Long) {
    if (frames.length >= 100) {
      avgFps = (frames.sum) / frames.length
      frames = List(duration)
    } else {
      duration :: frames
    }
  }
}