package main

class FPSManager {
  private var frames: List[Long] = Nil
  private var avgFd = 30L;

  def getFrameDurationNs: Double = {
    frames match {
      case x :: xs => {
        ((avgFd * 0.9) + (x * 0.1)) / 1000000
      }
      case Nil => 0
      case _   => 0
    }
  }

  def tick(duration: Long) {
    if (frames.length >= 100) {
      avgFd = frames.sum / frames.length
      frames = duration :: Nil
    } else {
      frames = duration :: frames
    }
  }
}