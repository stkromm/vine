package vine.gameplay.scene;

import java.util.ArrayList;
import java.util.List;
import java.util.Optional;

import vine.event.Event;
import vine.event.EventDispatcher.EventHandler;
import vine.event.EventLayer;
import vine.gameplay.entity.GameEntity;
import vine.graphics.Renderer;

/**
 * Provides a unique rendering method with post processing, global screnn
 * maniuplation for a set of gameobjects. Offers no semantic ordering of
 * gameobjects and is not relevant for physics or audio.
 * 
 * @author Steffen
 * 
 */
public abstract class Layer implements EventLayer {

    /**
     * 
     */
    protected final Renderer renderer;

    /**
     * 
     */
    public final List<EventHandler> handler;

    /**
     * 
     */
    public Layer() {
        entities
        renderer = new Renderer();
        handler = new ArrayList<>();
    }

    @Override
    public void addEventHandler(final EventHandler handler) {
        this.handler.add(handler);
    }

    @Override
    public boolean onEvent(final Event event) {
        final Optional<EventHandler> opt = handler.stream().filter(h -> h.onEvent(event)).findFirst();
        return opt.isPresent();
    }


    /**
     * Renders all entities assigned to this layer with it renderer.
     */
    public abstract void render();

}
