package vine.animation;

import vine.graphics.Texture2D;

public class AnimationClip {
    AnimationFrame[] frames;
    private Texture2D texture;
    private float duration;

    public AnimationClip(Texture2D texture, AnimationFrame... frames) {
        super();
        this.frames = frames;
        this.texture = texture;
        float frameDurationSum = 0;
        for (AnimationFrame frame : frames) {
            frameDurationSum += frame.getDuration();
        }
        duration = frameDurationSum;
    }

    public AnimationFrame getFrame(float time) {

        float frameTime = 0;
        int frameId = -1;
        System.out.println(frameId);
        while (frameTime < time) {
            frameId++;
            frameTime += frames[frameId].getDuration();
        }
        return frames[frameId];
    }

    public float getDuration() {
        return duration;
    }

    public Texture2D getTexture() {
        return texture;
    }
}
