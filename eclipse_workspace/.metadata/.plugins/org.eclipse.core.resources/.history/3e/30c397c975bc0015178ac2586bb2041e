package vine.core.game;

import java.util.ArrayList;
import java.util.List;

public class StatMonitor {
    private volatile static long lastUpdateTime;
    private volatile static long lastFrameTime;

    final static List<Float> frameDurations = new ArrayList<>();

    public int getUps() {
        return 0;
    }

    public int getFrame() {
        float frames = 0;
        for (int i = 1; i < frameDurations.size(); i++) {
            frames += frameDurations.get(i);
        }
        return (int) (1000000000 / frameDurations.get(0) * 0.4f + frames / (frameDurations.size() - 1) * 0.6f);
    }

    public float getUpDuration() {
        return 0.f;
    }

    public long getUsedMemory() {
        return Runtime.getRuntime().totalMemory();
    }

    public void printUpStackTrace() {
    }

    public static void newUp() {

    }

    public static void newFrame() {
        if (frameDurations.size() >= 100) {
            frameDurations.remove(0);
        }
        frameDurations.add((System.nanoTime() - lastUpdateTime) / 100000000.f);
    }
}
